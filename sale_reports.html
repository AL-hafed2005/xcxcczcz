<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>ุชูุงุฑูุฑ ุงููุจูุนุงุช</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>

  <h2>๐ ุชูุงุฑูุฑ ุงููุจูุนุงุช</h2>
  <div id="reportsContainer"></div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCnyLJmfaJZAW8c7_LaZo8G63UPWE3M6bs",
      authDomain: "kasher-e52a0.firebaseapp.com",
      projectId: "kasher-e52a0",
      storageBucket: "kasher-e52a0.firebasestorage.app",
      messagingSenderId: "424841509626",
      appId: "1:424841509626:web:9578c33123e2fd6ff0e743",
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function loadReports() {
      db.collection("salesReports").orderBy("timestamp", "desc").get()
        .then(snapshot => {
          const container = document.getElementById("reportsContainer");
          container.innerHTML = '';

          snapshot.forEach(doc => {
            const report = doc.data();
            const date = report.timestamp?.toDate().toLocaleString() || 'ุบูุฑ ูุนุฑูู';
            let html = `<div class="report-box">
              <p><strong>๐ ุงูุชุงุฑูุฎ:</strong> ${date}</p>
              <p><strong>๐ค ุงุณู ุงูููุธู:</strong> ${report.employee || 'ุบูุฑ ูุนุฑูู'}</p>

              <ul>`;
            report.items.forEach(item => {
              html += `<li>${item.name} - ${item.price} ร ${item.quantity}</li>`;
            });
            html += `</ul>
              <p><strong>๐ฐ ุงููุฌููุน:</strong> ${report.total.toFixed(2)} ุฏููุงุฑ</p>
              <hr />
            </div>`;
            container.innerHTML += html;
          });
        })
        .catch(err => {
          console.error("ุฎุทุฃ ูู ุฌูุจ ุงูุชูุงุฑูุฑ:", err);
        });
    }

    window.onload = loadReports;
  </script>

  <style>
   
    .report-box {
      border: 1px solid #ccc;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      background-color: #1b0943;
    }
  </style>
<div class="sidebar">
  <a href="about.html" class="btn ">
    <img src="https://img.icons8.com/ios-filled/32/000000/shopping-cart.png" alt="ูุธุงู ุงูุจูุน"> ูุธุงู ุงูุจูุน
  </a>
  <a href="sale_reports.html" class="btn active">
    <img src="https://img.icons8.com/ios-filled/32/000000/sales-performance.png" alt="ุชูุงุฑูุฑ ุงููุจูุนุงุช"> ุชูุงุฑูุฑ ุงููุจูุนุงุช
  </a>
  <a href="users.html" class="btn ">
    <img src="https://img.icons8.com/ios-filled/32/000000/add-user-group-man-man.png" alt="ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู"> ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
  </a>
   <a href="itemad.html" class="btn">
    <img src="https://img.icons8.com/ios-filled/32/000000/product.png" alt="ุงุฏุงุฑุฉ ุงูููุชุฌุงุช"> ุงุฏุงุฑุฉ ุงูููุชุฌุงุช
  </a>
  <a href="main.html" class="btn ">
    <img src="https://img.icons8.com/ios-filled/32/000000/marker.png" alt="ุงูุฑุฆูุณูุฉ"> ุงููุฑูุน
  </a>
 
  <a href="contact.html" class="btn ">
    <img src="https://img.icons8.com/ios-filled/32/000000/phone.png" alt="ุชูุงุตู ูุนูุง"> ุชูุงุตู ูุนูุง
  </a>
  <a href="index.html" class="btn" style="margin-top:auto;background:#d32f2f;color:#fff;">
    <img src="https://img.icons8.com/ios-filled/32/ffffff/logout-rounded-left.png" alt="ุชุณุฌูู ุฎุฑูุฌ"> ุชุณุฌูู ุฎุฑูุฌ
  </a>
</div>
</body>
</html>
